config {
  base_url = "http://localhost:8080";
  header "Content-Type" = "application/json";
}

let user = "admin";
let id = 42;
let password = "1234";


test Login{
 DESCRIPTION "This explains a function description"
 ACTIVE = TRUE
 POST "/api/login/" {
 body = "{ \"username\": \"$user\", \"password\": \"$password\" }";
  }
  expect status = 200;
  expect header "Content-Type" contains "json";
  expect body contains "token";
};

test GetUser {
  GET "/api/users/$id";
  expect status = 200;
  expect body contains "\"id\":42";
}

test RangeCheck {
  GET "/api/users/$id";
  expect status in 200..299;
}

test BothSyntaxes {
  GET "/api/users/$id";
  expect status = 200;
  expect status in 200..299;
}
